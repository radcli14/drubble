#:kivy 1.10.1


<SplashScreen>:
    canvas:
        Rectangle:
            source: 'a/splash.png'
            size: self.width, self.height
            pos: self.pos


<MyBackground>:
    canvas:
        Color:
            rgba: 1, 1, 1, 1
        Rectangle:
            texture: self.bg_text0
            pos: self.bg_left0, self.bottom_line_height
            size: 1.01 * self.img_w, 1.01 * self.img_h
        Rectangle:
            texture: self.bg_text1
            pos: self.bg_left1, self.bottom_line_height
            size: 1.01 * self.img_w, 1.01 * self.img_h
        Color:
            rgba: 0, 0, 0, 1
        Rectangle:
            pos: 0, 0
            size: root.width, self.bottom_line_height


<MyFace>:
    canvas:
        Color:
            rgba: self.line_color[0], self.line_color[1], self.line_color[2], 1
        Line:
            points: self.line_list
            width: self.line_width
        Color:
            rgba: 0.7, 0.7, 0.7, 1
        Ellipse:
            pos: self.jersey_left+0.1*self.sz, self.jersey_bottom-0.3*self.sz
            size: 0.4*self.sz, 0.6*self.sz
        Color:
            rgba: 1, 1, 1, 1
        PushMatrix
        Rotate:
            angle: self.shorts_angle0
            origin: self.jersey_right-0.12*self.sz, self.jersey_bottom-0.04*self.sz
        Rectangle:
            source: self.shorts_source0
            pos: self.jersey_right-0.45*self.sz, self.jersey_bottom-0.35*self.sz
            size: 0.4*self.sz, 0.7*self.sz
        PopMatrix
        PushMatrix
        Rotate:
            angle: self.shorts_angle1
            origin: self.jersey_left+0.12*self.sz, self.jersey_bottom-0.04*self.sz
        Rectangle:
            source: self.shorts_source1
            pos: self.jersey_left + 0.05*self.sz, self.jersey_bottom-0.35*self.sz
            size: 0.4*self.sz, 0.7*self.sz
        PopMatrix
        Rectangle:
            source: self.jersey_source
            pos: self.jersey_left, self.jersey_bottom
            size: 0.6*self.sz, self.sz
        Rectangle:
            source: self.image_source
            pos: self.img_left, self.img_bottom
            size: self.sz, self.sz
        PushMatrix
        Rotate:
            angle: self.stool_angle
            origin: self.rotate_center
        Color:
            rgba: self.stool_color
        Rectangle:
            source: 'a/stool.png'
            pos: self.stool_left, self.stool_bottom
            size: self.stool_width, self.stool_height
        PopMatrix


<Stick>:
    canvas:
        Color:
            rgba: 1, 1, 1, 0.2
        RoundedRectangle:
            radius: [0.15 * self.size[0]]
            pos: self.pos
            size: self.size
        Color:
            rgba: 1, 1, 1, 0.5
        Line:
            points: self.pos[0] + 0.4 * self.size[0], self.pos[1] + 0.5 * self.size[1], self.pos[0] + 0.6 * self.size[0], self.pos[1] + 0.5 * self.size[1], self.pos[0] + 0.5 * self.size[0], self.pos[1] + 0.5 * self.size[1], self.pos[0] + 0.5 * self.size[0], self.pos[1] + 0.6 * self.size[1], self.pos[0] + 0.5 * self.size[0], self.pos[1] + 0.4 * self.size[1]
            width: 0.01 * self.size[1]
        Line:
            ellipse: self.pos[0] + 0.35 * self.size[0]*(1+self.ctrl[0]), self.pos[1] + 0.35 * self.size[1]*(1+self.ctrl[1]), 0.3 * self.size[0], 0.3 * self.size[1]
            width: 0.01 * self.size[1]


<VolleyNet>:
    canvas:
        Color:
            rgba: 0.2, 0.2, 0.2, 0.7
        Rectangle:
            pos: self.pos
            size: self.size[0], self.size[1] - 0.5 * self.size[0]
        Ellipse:
            pos: self.pos[0], self.pos[1] + self.size[1] - self.size[0]
            size: self.size[0], self.size[0]
        Rectangle:
            pos: self.back_line_pos[0]
            size: self.back_line_size[0]
        Rectangle:
            pos: self.back_line_pos[1]
            size: self.back_line_size[1]
    Label:
        font_name: root.font_name
        text: root.score
        font_size: root.score_height
        pos: root.zero - root.score_width, root.score_bottom
        size: 2 * root.score_width, root.score_height
        color: 0.2, 0.2, 0.2, 0.7
        opacity: root.opacity


<ColorEllipse>:
    canvas:
        Color:
            rgba: self.color
        Ellipse:
            size: self.size
            pos: self.pos
        Color:
            rgba: 255.0 / 255.0, 204.0 / 255.0, 0.0 / 255.0, 1.0
        Line:
            ellipse: self.pos[0], self.pos[1], self.size[0], self.size[1]


<Ball>:
    canvas:
        Color:
            rgba: 1, 1, 1, 0.35
        Line:
            points: self.past_points
            width: 0.1 * self.sz
        Color:
            rgba: 1, 0.8, 0, 0.35
        Line:
            points: self.past_points[:32]
            width: 0.2 * self.sz
        Color:
            rgba: 1, 0.58, 0, 0.35
        Line:
            points: self.past_points[:16]
            width: 0.3 * self.sz
        Color:
            rgba: 1, 0.23, 0.19, 0.35
        Line:
            points: self.past_points[:8]
            width: 0.4 * self.sz

<OptionButtons>:
    canvas:
        Color:
            rgba: self.shadow_color
        RoundedRectangle:
            radius: [self.corner_radius]
            pos: self.pos
            size: self.size
        Color:
            rgba: self.button_color
        RoundedRectangle:
            radius: [self.corner_radius]
            pos: self.pos[0] + self.shadow_width, self.pos[1] + self.shadow_width
            size: self.size
    Label:
        font_name: root.label_font
        text: root.label_text
        font_size: root.label_font_size
        pos: root.pos
        size: root.size
        color: root.label_color
        halign: 'center'
        valign: 'center'


<ScoreLabel>:
    canvas:
        Color:
            rgba: 1, 1, 1, 0.75
        Rectangle:
            pos: self.pos
            size: self.size
        Color:
            rgba: 0.53, 0.89, 1, 1
        Line:
            width: 2
            rectangle: self.pos[0], self.pos[1], self.size[0], self.size[1]
    Label:
        font_name: root.label_font
        text: root.label_text
        font_size: root.label_size
        halign: 'left'
        pos: root.pos
        size: root.size
        color: 0, 0, 0, 1


<HighScoreLabel>:
    canvas:
        Color:
            rgba: 1, 1, 1, 0.2
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [0.25 * self.size[1]]
    Label:
        text: root.label_text
        font_size: root.font_size
        # font_name: root.label_font
        pos: root.pos[0] + 0.03 * root.size[0], root.pos[1]
        size: (0.2 * root.width, root.height)
        color: root.label_color
        outline_width: root.outline_width
        outline_color: root.outline_color
    Label:
        text: root.this_run
        font_size: root.font_size
        # font_name: root.label_font
        pos: root.pos[0] + 0.29 * root.size[0], root.pos[1]
        size: 0.2 * root.width, root.height
        color: root.label_color
        outline_width: root.outline_width
        outline_color: root.outline_color
    Label:
        text: root.best_run
        font_size: root.font_size
        # font_name: root.label_font
        pos: root.pos[0] + 0.51 * root.size[0], root.pos[1]
        size: 0.2 * root.width, root.height
        color: root.label_color
        outline_width: root.outline_width
        outline_color: root.outline_color
    Label:
        text: root.is_high
        font_size: root.font_size
        # font_name: root.label_font
        pos: root.pos[0] + 0.76 * root.size[0], root.pos[1]
        size: 0.2 * root.width, root.height
        color: root.label_color
        outline_width: root.outline_width
        outline_color: root.outline_color


<RotatingRing>:
    canvas.before:
        PushMatrix
        Rotate:
            angle: self.angle
            axis: (0, 0, 1)
            origin: self.center
    canvas.after:
        PopMatrix


<Tutorial>:
    Label:
        text: root.label_text
        font_size: root.label_font_size
        pos: root.label_pos
        size: root.label_size
        color: root.label_color
        opacity: root.label_opacity
        outline_width: 0.05 * root.label_font_size
        outline_color: root.label_outline_color
        #font_name: root.label_font_name
        halign: 'center'
        valign: 'center'